---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "deno_domain Resource - terraform-provider-deno"
subcategory: ""
description: |-
  A resource for a custom domain.
  A custom domain is a per-organization resource, which can be associated with a deployment.
  In order to associate a custom domain with a deployment, you need to verify the ownership of the domain, then prepare TLS certificates for the domain. Refer to the example below for practical usage.
---

# deno_domain (Resource)

A resource for a custom domain.

A custom domain is a per-organization resource, which can be associated with a deployment.
In order to associate a custom domain with a deployment, you need to verify the ownership of the domain, then prepare TLS certificates for the domain. Refer to the example below for practical usage.

## Example Usage

```terraform
# This example demonstrates the whole flow of setting up a custom domain.
# Several terraform resources need to interact with each other to aciheve this.

terraform {
  required_providers {
    deno = {
      source = "denoland/deno"
    }

    # As a demonstration, we use the cloudflare provider to add DNS records.
    # You can use any provider that can add DNS records.
    cloudflare = {
      source = "cloudflare/cloudflare"
    }
  }
}

# Add a new domain to your organization.
resource "deno_domain" "example" {
  domain = "foo.example.com"
}

# Add DNS records to the nameserver.
resource "cloudflare_record" "a" {
  zone_id = "<put your zone ID>"
  name    = deno_domain.example.dns_record_a.name
  type    = "A"
  value   = deno_domain.example.dns_record_a.content
  proxied = false
  ttl     = 120
}

resource "cloudflare_record" "aaaa" {
  zone_id = "<put your zone ID>"
  name    = deno_domain.example.dns_record_aaaa.name
  type    = "AAAA"
  value   = deno_domain.example.dns_record_aaaa.content
  proxied = false
  ttl     = 120
}

resource "cloudflare_record" "cname" {
  zone_id = "<put your zone ID>"
  name    = deno_domain.example.dns_record_cname.name
  type    = "CNAME"
  value   = deno_domain.example.dns_record_cname.content
  proxied = false
  ttl     = 120
}

# Added custom domain needs to be verified for ownership.
resource "deno_domain_verification" "example" {
  depends_on = [cloudflare_record.a, cloudflare_record.aaaa, cloudflare_record.cname]

  domain_id = deno_domain.example.id

  timeouts = {
    create = "15m"
  }
}

# Provision a certificate for the domain.
# The certificate will be managed by Deno Deploy.
resource "deno_domain_certificate" "example" {
  depends_on = [deno_domain_verification.example]

  domain_id = deno_domain.example.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `domain` (String) The custom domain, such as `foo.example.com`

### Read-Only

- `created_at` (String) The time the domain was created, formmatting in [RFC3339](https://datatracker.ietf.org/doc/html/rfc3339).
- `dns_record_a` (Attributes) The `A` DNS record that needs to be added to the DNS nameserver. (see [below for nested schema](#nestedatt--dns_record_a))
- `dns_record_aaaa` (Attributes) The `AAAA` DNS record that needs to be added to the DNS nameserver. (see [below for nested schema](#nestedatt--dns_record_aaaa))
- `dns_record_cname` (Attributes) The `CNAME` DNS record that needs to be added to the DNS nameserver. (see [below for nested schema](#nestedatt--dns_record_cname))
- `dns_records` (Attributes List, Deprecated) The DNS records that need to be added to the DNS nameserver. (see [below for nested schema](#nestedatt--dns_records))
- `id` (String) The ID of the domain.
- `token` (String) The token used for verifying the ownership of the domain.
- `updated_at` (String) The time the domain was updated, formmatting in [RFC3339](https://datatracker.ietf.org/doc/html/rfc3339).

<a id="nestedatt--dns_record_a"></a>
### Nested Schema for `dns_record_a`

Read-Only:

- `content` (String) The content of the DNS record.
- `name` (String) The name of the DNS record.


<a id="nestedatt--dns_record_aaaa"></a>
### Nested Schema for `dns_record_aaaa`

Read-Only:

- `content` (String) The content of the DNS record.
- `name` (String) The name of the DNS record.


<a id="nestedatt--dns_record_cname"></a>
### Nested Schema for `dns_record_cname`

Read-Only:

- `content` (String) The content of the DNS record.
- `name` (String) The name of the DNS record.


<a id="nestedatt--dns_records"></a>
### Nested Schema for `dns_records`

Read-Only:

- `content` (String) The content of the DNS record. The value depends on the type of the DNS record. For example, for `A` record, it is the IP address of the domain.
- `name` (String) The name of the DNS record.
- `type` (String) The type of the DNS record such as `A`, `CNAME`, etc.
